<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8"/>
		<link rel="stylesheet" href="styles.css"/>
		<title>PR0304</title>
		<script>
			function calcularValor(datos) {
				var mayor = 0;
				for (var i = 0; i < datos.length; i++) {
					if (datos[i] > mayor) {
						mayor = datos[i];
					}
				}
				return mayor;
			}
			function calcularLumniosidad(mayor, valor) {
				var luminosidad = valor*80/mayor;
				return luminosidad + "%";
			}

			var datos = [2, 3.5, 3, 2.25, 1.75, 5, 3.5];
			var texto = ["Lunes", "Martes", "Miércoles", "Jueves", "Viernes", "Sábado", "Domingo"];
			var mayor = calcularValor(datos);
			function draw() {
				var canvas = document.getElementById('grafica');
				if (canvas.getContext){
					var ctx = canvas.getContext('2d');
					ctx.beginPath();
					ctx.moveTo(50, 550);
					ctx.lineTo(750, 550);
					ctx.lineWidth = 3;
					ctx.stroke();
					ctx.beginPath();
					ctx.lineWidth = 2;
					ctx.font = "15px Arial";
					ctx.textAlign = "center";
					for (var i = 0; i < datos.length; i++) {
						ctx.fillText(datos[i], (100+i*100), (540-(450/mayor*datos[i])));
						ctx.fillStyle = "hsl(245, 100%, " + calcularLumniosidad(mayor,datos[i]) + ")";
						ctx.fillRect((75+i*100), 548, 50, -(450/mayor*datos[i]));
						ctx.fillStyle = "#000000";
						ctx.fillText(texto[i], (100+i*100), 575);
					}
					ctx.stroke();
				}
			}
		</script>
	</head>
	<body onload="draw();">
		<canvas id="grafica" width="800" height="600">
		</canvas>
	</body>
</html>